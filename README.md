# tasklistbottest
# Чек-лист бот: бот для планирования задач
## Описание

Чек-лист бот (@checklist_bot) предназначен для планирования задач разной специфики. В боте поддерживаются три типа задач:
* Привычки (***habits***)
* Задачи (***tasks***)
* Цели (***goals***)

На данный момент бот функционирует только на английском языке.

---

***Привычки*** - это список дел, которые нужно выполнять **ежедневно**.

Привычки задаются один раз и работают на протяжении всего периода пользования ботом, пока пользователь не решит самостоятельно удалить одну из привычек. Бот напоминает о них каждый день в 20:00, если они ещё не выполнены:

>Have you finished all your daily activities?

Список привычек можно просматривать самостоятельно в любое время, воспользовавшись командой `/habits`. Привычки должны быть выполнены и отмечены в боте до конца дня, и если всё выполнено в срок, в 23:59 приходит уведомление:

>Congratulations! You’ve finished all your daily activities

Сразу же после того, как придёт последнее уведомление, бот сохраняет результат в базе данных и аннулирует прогресс за день.

---

***Задачи*** - дела, у которых могут быть **дедлайны** и которые выполняются только **1 раз**.

Дедлайны задач устанавливаются с помощью кнопок, причём важно отметить, что дедлайн у задачи может быть **не позже, чем через 4 года** с момента добавления задачи. То есть, если вы добавляете задачу в 2021 году, то крайний срок может быть установлен на 2021-2024 года, но не позже.

Бот умеет напоминать о задачах с дедлайнами в Х утра за 1 день до дедлайна и в то же время в день дедлайна. У задачи может и **не быть дедлайна** - в таком случае бот просто не будет о них напоминать, но она будет появляться в списке задач.

Задачи вызываются с помощью команды `/tasks`. При вызове они будут отсортированы по прогрессу (первичная сортировка) и по дедлайнам (вторичная): самые срочные и ещё не выполненные задачи будут располагаться наверху списка, а задачи без дедлайнов - в самом низу.

---

***Цели*** - долгосрочные планы просто для жизни и вдохновения. У них нет дедлайнов и бот никогда о них не напоминает; просмотреть их список можно при вызове команды `/goals`. Цели можно выполнять и отмечать в боте так же, как и предыдущие типы задач, но здесь есть отличие - бот запомнит это действие как достижение и похвалит за это в конце месяца.

---

В конце каждого календарного месяца бот автоматически отправляет ***аналитику за месяц***, в который входят два графика и поощрительные сообщения. Первый график (столбчатая диаграмма) показывает процент выполненных задач за каждый день прошедшего месяца - это позволяет пользователю отслеживать то, насколько стабильно он следовал своим привычкам. Второй график (круговая диаграмма) показывает соотношение выполненных и просроченных дедлайнов.

В зависимости от уровня продуктивности, которую пользователь проявил за прошедший месяц, бот может давать разные поощрительные сообщения. Вот какие они бывают:
1. Если пользователь выполнял все привычки, т.е. все ежедневные планы на протяжении **больше, чем половины месяца**: 

    >Well done!

2. Если пользователь выполнял все привычки на протяжении **половины месяца или меньше**:

    >You need just a little more discipline, I'm sure, you can do that!

3. Если количество выполненных дедлайнов **больше**, чем просроченных:

    >Look how much you've done on time, good job!

4. Если количество выполненных дедлайнов **меньше**, чем просроченных или **столько же**:

    >It must've been a difficult month for you. Let's hope it gets better next month!

5. Если за прошедший месяц пользователь достиг **одной** цели:

    >This month you have reached one of your goals. Congratulations!

6. Если за прошедший месяц пользователь достиг **больше, чем одной** цели:

    >This month you have reached `(количество достиг. целей)` goals! Your dedication is amazing!


В итоге, в конце месяца бот присылает от 2 до 3 поощрительных сообщений.




## Алгоритм работы с ботом

### Начало работы

Общение с ботом начинается с команды `/start`. Бот приветствует пользователя и записывает его уникальный номер (`user_id`).
Далее вводится одна из команд `/habits`, `/tasks` или `/goals` в зависимости от типа задачи. При вводе любой из команд появляется список существующих задач и следующие кнопки:
* Add - добавить задачу
* Change progress - изменить прогресс
* Edit - редактировать название задачи
* Delete - удалить задачу
* Change deadline (*только у **задач**, т.е. tasks*) - изменить дедлайн

Практически все действия (кроме команд для вызова и ввода названий новых или редактируемых задач) выполняются с помощью кнопок.

### Как "выполнять" задачи?

У каждого типа задач бывает 2-3 **состояния** задачи: не начато (**to do**), в процессе (**in progress**, *только у **задач**, т.е. tasks*) и выполнено (**done**). Для изменения состояния задачи нужно нажать кнопку **change progress** и выбрать соответствующее состояние. После этого задачи **в процессе** будут отмечены в списке задач значком песочных часов, а **выполненные** будут вычеркнуты.

## Команда проекта и распределение обязанностей

В создании проекта участвовали три студента группы БКЛ-203:

***Дмитрий Козлов***

* Создание бота
* Создание базы данных
* Функционал habits
* Написание кода для уведомлений
* Загрузка бота на сервер и настройка аналитики

***Виктория Князькова***

* Создание базы данных
* Функционал tasks
* Создание класса для общения с БД
* Приспосабливание модуля, генерирующего кнопки
* Презентация к предзащите

***Дана Оспанова***

* Написание кода для аналитики
* Функционал goals
* Презентация к защите
* Написание readme.md

## Timeline (как шёл процесс)

1. Первые планы и продумывание алгоритма - 23 марта
2. Создание пустого бота - 23 марта
3. Создание базы данных и подключение бота - 15 апреля
4. Разделение функционала бота на троих человек и написание кода - 18 апреля
5. Продумывание того, как работать с задачами (change progress) - 19 апреля
6. Дописывание основной части бота - 22 апреля
7. Предзащита - 24 апреля
8. Создание основного кода для аналитики - 9 мая
9. Добавление модуля keyboa - 12 мая
10. Создание уведомлений - 14 мая
11. Запуск бота на сервере и доработка - 15 мая
